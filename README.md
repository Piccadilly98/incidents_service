# Incidents Service

**–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ Golang –¥–ª—è RedCollar**

REST API —Å–µ—Ä–≤–∏—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º–∏, –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å–æ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º–∏ API —Å –ø–æ–º–æ—â—å—é –≤–µ–±—Ö—É–∫–æ–≤

## Technologies  
![Go](https://img.shields.io/badge/go-%2300ADD8.svg?style=for-the-badge&logo=go&logoColor=white)
![PostgreSQL](https://img.shields.io/badge/postgres-%23316192.svg?style=for-the-badge&logo=postgresql&logoColor=white)
![Docker](https://img.shields.io/badge/docker-%230db7ed.svg?style=for-the-badge&logo=docker&logoColor=white)
![Redis](https://img.shields.io/badge/Redis-%23DD0031?style=for-the-badge&logo=redis&logoColor=white)

### [üöÄ–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫](#–±—ã—Å—Ç—Ä—ã–π-–∑–∞–ø—É—Å–∫)  
### [üìÑ–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#api-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)   
### [üîç–ü–æ–¥ –∫–∞–ø–æ—Ç–æ–º](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ-–¥–µ—Ç–∞–ª–∏)   
### [üíª–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)   
### [üì°Ngrok](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-—Å-–ø–æ–º–æ—â—å—é-ngrok)  
### [‚úâÔ∏è–ö–æ–Ω—Ç–∞–∫—Ç—ã](#–∫–æ–Ω—Ç–∞–∫—Ç—ã)


### üìã **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- [Goose](https://github.com/pressly/goose)
- [Docker](https://www.docker.com/)
- [Redis](https://redis.io/)
- [PostgreSQL —Å postgis](https://www.postgresql.org/)
- Git
- Go 1.24+
- Make (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ngrok](https://ngrok.com/)(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **2 –≥—Ä—É–ø–ø—ã HTTP —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:**
    - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏–µ CRUDL —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –Ω–∞ —Ä–æ—É—Ç–µ: **/api/v1/incidents**:
        - **GET /api/v1/incidents** - –ø–∞–≥–∏–Ω–∞—Ü–∏—è –≤—Å–µ—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
        - **POST /api/v1/incidents** - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π –∏ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—è–º–∏
        - **GET /api/v1/incidents/{id}** - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–µ –ø–æ –µ–≥–æ id
        - **PUT /api/v1/incidents/{id}** - –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –ø–æ –µ–≥–æ id
        - **DELETE /api/v1/incidents/{id}** - –¥–ª—è –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –ø–æ –µ–≥–æ id
        - **GET /api/v1/incidents/stats** - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ –∫–∞–∂–¥–æ–º—É –∏–Ω—Ü–∏–¥–µ–Ω—Ç—É*
    - –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã: 
        - **POST /api/v1/location/check** - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
        - **GET /api/v1/system/health** - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è health-check —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞  

    - [–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ö–µ–Ω–¥–ª–µ—Ä–∞—Ö](#incidents-service)    

- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏**
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–µ–±—Ö—É–∫–æ–≤ –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏**
- **–ñ–µ—Å—Ç–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç**
- **SQL-–º–∏–≥—Ä–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é [goose](https://github.com/pressly/goose)**
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤**
- **Redis –æ—á–µ—Ä–µ–¥—å —Å –ø–æ–º–æ—â—å—é POP/PUSH**      
 

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- **Clean Architecture**  
  Handler -> Service -> Repository
- **PostgreSQL - postgis/postgis:15-3.4-alpine** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (PostGIS –¥–ª—è –≥–µ–æ–∑–∞–ø—Ä–æ—Å–æ–≤)  
- **Redis** ‚Äî –∫—ç—à –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ + –æ—á–µ—Ä–µ–¥—å –≤–µ–±—Ö—É–∫–æ–≤  
- **Go 1.24.5**  
- **Dockerfile + docker-compose** –¥–ª—è –∑–∞–ø—É—Å–∫–∞
- **Mocks —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**

## –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫:

## –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–±)

```bash
git clone https://github.com/Piccadilly98/incidents_service.git
cd incidents_service
cp .env.example .env
# –û—Ç–∫—Ä–æ–π .env –∏ –ø—Ä–æ–≤–µ—Ä—å/–∏–∑–º–µ–Ω–∏ –∑–Ω–∞—á–µ–Ω–∏—è (–æ—Å–æ–±–µ–Ω–Ω–æ API_KEY –∏ WEBHOOK_URL)
docker-compose up --build -d
```
[–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —Å–µ—Ä–≤–∏—Å—É](#–ø–æ–∑–¥—Ä–∞–≤–ª—è—é-—Å–µ—Ä–≤–µ—Ä-–∑–∞–ø—É—â–µ–Ω-–∏-—É—Å–ø–µ—à–Ω–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç)   

### üîß **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫:**

#### **–®–∞–≥ 1: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞**
```bash
git clone https://github.com/Piccadilly98/incidents_service.git
cd incidents_service
cd subscription_service
```     

#### **–®–∞–≥ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
```bash
go mod download #–¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤ —Ç—Ä–µ–±—É—é—â–∏—Ö—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ
go install github.com/pressly/goose/v3/cmd/goose@latest #–¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π
```

#### **–®–∞–≥ 3: –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ –∫–∞–∫ –≤ –ø—Ä–∏–º–µ—Ä–µ —Ñ–∞–π–ª–∞ [.env.example](https://github.com/Piccadilly98/incidents_service/blob/develop/.env.example) :**
```bash
# –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
# –ú–∏–≥—Ä–∞—Ü–∏–∏
GOOSE_DRIVER=postgres                               #–∫–∞–∫—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º            
GOOSE_DBSTRING=postgres://postgres:postgres@localhost:5433/incidents_service   #—Å—Ç—Ä–æ—á–∫–∞ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –Ω–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–æ—Ä–º–∞—Ç–µ: –Ω–∞–∑–≤–∞–Ω–∏–µ_—Å—É–±–¥://–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:–ø–∞—Ä–æ–ª—å@—Ö–æ—Å—Ç:–ø–æ—Ä—Ç/–∏–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
GOOSE_MIGRATION_DIR=./migrations        #–º–µ—Å—Ç–æ –≥–¥–µ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ñ–∞–π–ª—ã –º–∏–≥—Ä–∞—Ü–∏–π

# –î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–¥
DB_NAME=incidents_service
DB_USER=postgres
DB_PASSWORD=postgres
DB_PORT=5433                             # –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞, –Ω–æ –ø–æ –¥–µ—Ñ–æ–ª—Ç—É –∑–Ω–∞—á–µ–Ω–∏–µ: 5432

API_KEY=1234                        # –∞–ø–∏ –∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∞–¥–º–∏–Ω—Å–∫–∏–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è:
#DB_SSLMODE=                         # –†–µ–∂–∏–º ssl, –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: disable
#DB_HOST=                            # –ê–¥—Ä–µ—Å —Ö–æ—Å—Ç–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: localhost
#WEBHOOK_URL=http://localhost:9090/test  # url –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞: –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: http://localhost:9090/test    
#WEBHOOK_METHOD=                     # –º–µ—Ç–æ–¥ –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤–µ–±—Ö—É–∫–∏: –º–æ–∂–µ—Ç –±—ã—Ç—å POST –∏–ª–∏ GET, –¥–µ—Ñ–æ–ª—Ç POST
#MAX_INCIDENT_RADIUS=                # –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–¥–∏—É—Å –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞, –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 50000
#DEFAULT_INCIDENT_RADIUS=            # –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–¥–∏—É—Å–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞, –µ—Å–ª–∏ –æ–Ω –Ω–µ –∑–∞–¥–∞–Ω, –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 5000
#MAX_ROWS_IN_PAGE=                   # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –Ω–∞ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø—Ä–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏, –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 10
#STATS_TIME_WINDOW_MINUTES=          # –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ –≤ –º–∏–Ω—É—Ç–∞—Ö –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º, –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 100
#REDIS_ADDR=                         # –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä—Å–∞ Redis —Å –ø–æ—Ä—Ç–æ–º, –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: localhost:6380
#REDIS_TTL=                          # TTL –∑–∞–ø–∏—Å–µ–π Redis –≤ —Å–µ–∫—É–Ω–¥–∞—Ö, –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 300
#WEBHOOK_MAX_RETRY=                  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–ª–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞, –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: 3
#LOGGING_USER_ERROR=                 # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ, –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: false
```


### **–õ–æ–∫–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞**
**–ï—Å–ª–∏ –µ—Å—Ç—å make:**
```bash
    make #–¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π, —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
```
[–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —Å–µ—Ä–≤–∏—Å—É](#–ø–æ–∑–¥—Ä–∞–≤–ª—è—é-—Å–µ—Ä–≤–µ—Ä-–∑–∞–ø—É—â–µ–Ω-–∏-—É—Å–ø–µ—à–Ω–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç)   

**–ï—Å–ª–∏ –Ω–µ—Ç make:**
```bash
    goose up    #–¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–π
    go run cmd/main/main.go
```
[–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ —Å–µ—Ä–≤–∏—Å—É](#–ø–æ–∑–¥—Ä–∞–≤–ª—è—é-—Å–µ—Ä–≤–µ—Ä-–∑–∞–ø—É—â–µ–Ω-–∏-—É—Å–ø–µ—à–Ω–æ-—Ä–∞–±–æ—Ç–∞–µ—Ç)  

## **üéâ–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –∏ —É—Å–ø–µ—à–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**   
- **–°–ª—É—à–∞–µ—Ç –ø–æ—Ä—Ç: 8080**
- **–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω –Ω–∞ localhost**
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–ª—É—á–∞–µ –ø–æ–¥–Ω—è—Ç–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ localhost:5433(—á—Ç–æ –±—ã –Ω–µ –∑–∞–Ω–∏–º–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç PostgreSQL)**
- **Redis –≤ —Å–ª—É—á–∞–µ –ø–æ–¥–Ω—è—Ç–∏—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω –Ω–∞ localhost:6380(—á—Ç–æ –±—ã –Ω–µ –∑–∞–Ω–∏–º–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç Redis)**
- **–í —Å–ª—É—á–∞–µ —É–¥–∞—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –º—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –ø–æ–¥–æ–±–Ω—ã–µ –ª–æ–≥–∏:**
```bash
2026/01/17 22:38:24 Redis client connected successfully
2026/01/17 22:38:24 Database connected successfully



API Key (–¥–ª—è –∞–¥–º–∏–Ω—Å–∫–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤): c744498a-5024-41a7-9485-bf8f088a41a4 
–ò—Å–ø–æ–ª—å–∑—É–π –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ: X-API-Key: c744498a-5024-41a7-9485-bf8f088a41a4 
```
- –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –º—ã –≤–∏–¥–∏–º –ª–∏–±–æ –ª–æ–≥–∏ goose, –Ω–∞–ø—Ä–∏–º–µ—Ä:
```bash
2025/12/31 15:56:09 goose run: failed to connect to `user=postgres database=subscriptions` #–∑–Ω–∞—á–∏—Ç, —á—Ç–æ –º—ã —É–∫–∞–∑–∞–ª–∏ –Ω–µ–≤–µ—Ä–Ω—É—é —Å—Å—ã–ª–∫—É –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–¥
```
**–∏–ª–∏:**
```bash
2025/12/31 15:57:40 goose run: ./migration directory does not exist #–∑–Ω–∞—á–∏—Ç, —á—Ç–æ –º—ã —É–∫–∞–∑–∞–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
 ```

  **–ò–ª–∏ –ª–æ–≥–∏ –æ—Ç –Ω–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:**
```bash
[DB CONNECTION ERROR] 2026/01/17 19:29:32 CRITICAL: error in ping dataBase: dial tcp [::1]:5431: connect: connection refused
2026/01/17 19:29:32 error in ping dataBase: dial tcp [::1]:5431: connect: connection refused #–ø—Ä–∏ –∏–Ω–≤–∞–ª–∏–¥–Ω–æ–º —Ö–æ—Å—Ç–µ
 ```

## **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏**
### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏ (Clean Architecture)

–°–µ—Ä–≤–∏—Å –ø–æ—Å—Ç—Ä–æ–µ–Ω –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **Clean Architecture** —Å —á—ë—Ç–∫–∏–º —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏:

1. **Repository** ‚Äî —Å–ª–æ–π –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º  
   - –ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–¥–∞—á–∞ ‚Äî –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∫ –ë–î, Redis –∏–ª–∏ –æ—á–µ—Ä–µ–¥–∏  
   - –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `repository.Executor`  
   - –í—Å–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ [`interfaces.go`](https://github.com/Piccadilly98/incidents_service/blob/develop/internal/repository/interfaces.go), —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –º–æ–∫–∏—Ä–æ–≤–∞—Ç—å –≤ —Ç–µ—Å—Ç–∞—Ö –∏ –∑–∞–º–µ–Ω—è—Ç—å —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –¥—Ä—É–≥—É—é –°–£–ë–î)

2. **Service** ‚Äî –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞  
   - –ó–∞–≤–∏—Å–∏—Ç —Ç–æ–ª—å–∫–æ –æ—Ç **–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤** —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ 
   - –ü—Ä–∏–Ω–∏–º–∞–µ—Ç DTO, –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ Entities, –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç DTO –¥–ª—è –æ—Ç–≤–µ—Ç–∞  
   - –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –≤–∞–ª–∏–¥–∞—Ü–∏—é, –æ–±—Ä–∞–±–æ—Ç–∫—É —Å—Ç–∞—Ç—É—Å–æ–≤, –±–∏–∑–Ω–µ—Å –ª–æ–≥–∏–∫—É –∏ —Ç.–¥.
   - –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –ø–æ–ª—É—á–µ–Ω–∏—è –∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫—ç—à–∞ –∏–ª–∏ –æ—á–µ—Ä–µ–¥–∏ —Å–µ—Ä–≤–∏—Å —Å–ª–æ–π –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç—Ç—É –æ—à–∏–±–∫—É, –∞ –ª–æ–≥–∏—Ä—É–µ—Ç –µ—ë, –≤ –æ—Ç–ª–∏—á–∏–∏ –æ—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

3. **Handlers** ‚Äî HTTP-—Å–ª–æ–π  
   - –¢–æ–Ω–∫–∏–µ: —Ç–æ–ª—å–∫–æ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–∞, unmarshal JSON, –≤—ã–∑–æ–≤ —Å–µ—Ä–≤–∏—Å–∞  
   - –†–∞–±–æ—Ç–∞—é—Ç —Å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –æ—à–∏–±–æ–∫ [`error_worker`](https://github.com/Piccadilly98/incidents_service/tree/develop/internal/error_worker), –∫–æ—Ç–æ—Ä—ã–π –º–∞–ø–ø–∏—Ç –æ—à–∏–±–∫–∏ –Ω–∞ HTTP-—Å—Ç–∞—Ç—É—Å—ã –∏ ErrorResponse DTO
### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:   
–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é Redis, –≤ –∫—ç—à–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã —Å –∫–ª—é—á–∞–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: **incident:active:id_–∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞**   
–°–µ—Ä–≤–∏—Å —Å–ª–æ–π –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –æ–± –∏–Ω—Ü–∏–¥–µ–Ω—Ç–µ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫—ç—à –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ç–∞–∫–æ–≥–æ, –∞ –∑–∞—Ç–µ–º —É–∂–µ –¥–µ–ª–∞–µ—Ç –∑–∞–ø—Ä–æ—Å –∫ –±–¥ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é.   
  
**–°—Ö–µ–º–∞ –¥–≤–∏–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–Ω—É—Ç—Ä–∏ –∫—ç—à–∞:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫—ç—à:
    - –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ —Å–ª–æ–π —Å–µ—Ä–≤–∏—Å–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å, –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å `active` -  –≤—ã–∑—ã–≤–∞–µ—Å—è –º–µ—Ç–æ–¥ –∫—ç—à–∞ –∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∫—ç—à —Å TTL(–≤—Ä–µ–º—è –∂–∏–∑–Ω–∏) —Ä–∞–∑–º–µ—Ä–æ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π **CACHE_TTL** –∏–∑ —Ñ–∞–π–ª–∞ `.env`
    - –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± –∏–Ω—Ü–∏–¥–µ–Ω—Ç–µ, —Å–µ—Ä–≤–∏—Å –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å, –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å `active` - –∏–Ω—Ü–∏–¥–µ–Ω—Ç —Ç–∞–∫ –∂–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ –∫—ç—à
    - –ü—Ä–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –≤—Å–µ –º–µ—Ç–æ–¥—ã —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `active` —Ç–∞–∫ –∂–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –∫—ç—à
    - –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞, –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –∫–æ—Ç–æ—Ä–æ–≥–æ —Å—Ç–∞—Ç—É—Å —Ç–∞–∫ –∂–µ –æ—Å—Ç–∞—ë—Ç—Å—è `active` –∏–Ω—Ü–∏–¥–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫—ç—à–µ
- –£–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –∫—ç—à–∞:
    - –ü—Ä–∏ –¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞, –µ–≥–æ —Å—Ç–∞—Ç—É—Å –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ `archived` –∏ –æ–Ω —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –∫—ç—à–∞
    - –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞, –æ–Ω —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –±–¥ –∏ –∏–∑ –∫—ç—à–∞
    - –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ TTL –∑–∞–ø–∏—Å—å —Ç–∞–∫ –∂–µ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –∫—ç—à–∞
**–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —Å–æ–∫—Ä–∞—â–∞–µ—Ç –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**

### –û—á–µ—Ä–µ–¥—å –≤–µ–±—Ö—É–∫–æ–≤

–û—á–µ—Ä–µ–¥—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞ **Redis List** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–¥–µ–ª–∏ **FIFO** (First In ‚Äî First Out), —á—Ç–æ–±—ã –∑–∞–¥–∞—á–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å —Å—Ç—Ä–æ–≥–æ –≤ –ø–æ—Ä—è–¥–∫–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –∏ —Å—Ç–∞—Ä—ã–µ —Å–æ–±—ã—Ç–∏—è –Ω–µ ¬´–≥–æ–ª–æ–¥–∞–ª–∏¬ª.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏: `LPUSH` (–≤—Å—Ç–∞–≤–∫–∞ –≤ –≥–æ–ª–æ–≤—É —Å–ø–∏—Å–∫–∞)
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏: `BRPOP` (–±–ª–æ–∫–∏—Ä—É—é—â–µ–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å —Ö–≤–æ—Å—Ç–∞ —Å–ø–∏—Å–∫–∞)

–¢–∞–∫–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è (`LPUSH` + `BRPOP`) –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç:
- —Å—Ç—Ä–æ–≥—É—é –æ—á–µ—Ä—ë–¥–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏
- –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ ¬´–∑–∞—Å—Ç—Ä–µ–≤–∞–Ω–∏—è¬ª —Å—Ç–∞—Ä—ã—Ö –∑–∞–¥–∞—á
- —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—É—é —Ä–∞–±–æ—Ç—É worker'–∞ (–±–ª–æ–∫–∏—Ä—É—é—â–∏–π pop –Ω–µ –Ω–∞–≥—Ä—É–∂–∞–µ—Ç CPU)

**–ö–ª—é—á –≤ Redis:** `webhook:queue`

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –æ—Ç–ø—Ä–∞–≤–∫–∏: —Å –ø–æ–º–æ—â—å—é env –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `WEBHOOK_MAX_RETRY` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3)
- –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ç–∞–π–º–∞—É—Ç: –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `durationForPop` (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö) –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ cache.RedisQueue

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
–ó–∞ –æ—Å–Ω–æ–≤–Ω—É—é –ë–î –±—ã–ª–∞ –≤—ã–±—Ä–∞–Ω–∞ `PostgreSQL` —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º **Postgis** –ø–æ–∑–≤–æ–ª—è—é—â–∞—è —É–¥–æ–±–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏, —Ä–∞–¥–∏—É—Å–∞–º–∏ –∏ –≥–∏–±–∫–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ü–∏–∏ –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á–µ—Ç–æ–≤(–µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ñ–µ—Ä–∏—á–µ—Å–∫—É—é –º–æ–¥–µ–ª—å –ó–µ–º–ª–∏ –∏–ª–∏ –ø–ª–æ—Å–∫—É—é).  **–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—â–∏–µ —Ä–∞—Å—á–µ—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ –ø–æ–ø–∞–¥–∞–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ —Ä–∞–¥–∏—É—Å –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–π:**
- **ST_Distance()** - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –≤ –º–µ—Ç—Ä–∞—Ö –æ—Ç –æ–¥–Ω–æ–π —Ç–æ—á–∫–∏ –¥–æ –¥—Ä—É–≥–æ–π
- **ST_DWithin()** - –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –ª–∏ —Ç–æ—á–∫–∞ –≤ —Ä–∞–¥–∏—É—Å–µ –¥—Ä—É–≥–æ–π
- **ST_MakePoint()** - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ `geography`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–π –æ–±—ä–µ–∫—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –Ω–∞ —Å—Ñ–µ—Ä–∏—á–µ—Å–∫–æ–π –º–æ–¥–µ–ª–∏ –ó–µ–º–ª–∏  

**–ü–æ–ª—è –ë–î:**  
–î–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –±—ã–ª–∏ —Å–æ–∑–¥–∞–Ω—ã –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö:  
**checks:**
- coordinates - –ø–æ–ª–µ, –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞—Å—á—ë—Ç–∞ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ –æ –ø—Ä–æ–≤–µ—Ä–∫–∏. –ù—É–∂–Ω–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞—Å—á—ë—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ –ø—Ä–æ—á–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π.
- is_danger - –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏, –µ—Å–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ø–∞–ª–∏ —Ö–æ—Ç—è –±—ã –≤ –æ–¥–Ω—É –æ–ø–∞—Å–Ω—É—é –∑–æ–Ω—É, —Ç–æ —Ñ–ª–∞–≥ `is_danger` —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–∞–≤–Ω—ã–º `true`. –ü–æ–ª–µ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ —Å—Ç–∞—Ç—É—Å—É –ø—Ä–æ–≤–µ—Ä–∫–∏.
- detected_incident_ids - –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç –≤ —Å–µ–±–µ –º–∞—Å—Å–∏–≤ id –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤, –≤ —Ä–∞–¥–∏—É—Å –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ø–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞. –°—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ –±—ã –Ω–µ –¥–µ–ª–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ postgis –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

**incidents:**
- coordinates - –ø–æ–ª–µ, –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ä–∞—Å—á—ë—Ç–∞ –ø—Ä–∏ –≤—Å—Ç–∞–≤–∫–µ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ –æ–± –∏–Ω—Ü–∏–¥–µ–Ω—Ç–µ. –ù—É–∂–Ω–æ –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞—Å—á—ë—Ç–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è –∏ –ø—Ä–æ—á–∏—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π.
- is_active - –¥–ª—è –±–æ–ª–µ–µ —É–¥–æ–±–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏, –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –∏ —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- created_date - –ø–æ–ª–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞
- updated_date - –ø–æ–ª–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- resolved_date - –ø–æ–ª–µ, –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –Ω–∞: `resolved` –∏–ª–∏ `archived`. –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ `active` —ç—Ç–æ –ø–æ–ª–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ä–∞–≤–Ω—ã–º **NULL**  


**–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è —Ä–∞—Å—á—ë—Ç–æ–≤:**
- –ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –∏–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–µ `coordinates` —Ç–∏–ø–∞ `geography`  –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–∞–º–æ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ **ST_MakePoint()**
- –ë—ã–ª —Å–æ–∑–¥–∞–Ω `GIST` –∏–Ω–¥–µ–∫—Å –ø–æ –ø–æ–ª—é coordinates –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö: checks –∏ incidents
- –ë—ã–ª —Å–æ–∑–¥–∞–Ω –∏–Ω–¥–µ–∫—Å –ø–æ –ø–æ–ª—é `created_date` –≤ —Ç–∞–±–ª–∏—Ü–µ `checks` –≥–¥–µ –±—ã–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ë—ã–ª —Å–æ–∑–¥–∞–Ω –∏–Ω–¥–µ–∫—Å –¥–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –ø–æ –ø–æ–ª—é `coordinates`  

**–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö:**
–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–∞–¥ –¥–∞–Ω–Ω—ã–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –≥–æ–Ω–∫–µ –¥–∞–Ω–Ω—ã—Ö —Å–æ–≤–µ—Ä—à–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –¥–ª—è —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏:
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–µ –µ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞, —Ç–∞–∫ –∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–Ω—É—Ç—Ä–∏ –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞(–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ `archived`) –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–∞–∫ –∂–µ –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞—Ü–∏–∏(—Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ -> –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –µ—ë –ø–æ–ª–µ–π -> –∑–∞–ø—Ä–æ—Å—ã –∫ —Ç–∞–±–ª–∏—Ü–µ `incidents` -> —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—á–µ—Ç–∞) —Ç–∞–∫ –∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —Ä–∞–º–∫–∞—Ö –æ–¥–Ω–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–∞–∫ –∂–µ –≤–Ω—É—Ç—Ä–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏  

**–ú–µ—Ç–æ–¥—ã —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ä–∞–±–æ—Ç—É –∫–∞–∫ –≤–Ω—É—Ç—Ä–∏, —Ç–∞–∫ –∏ –≤–Ω–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (—á–µ—Ä–µ–∑ repository.Executor), –Ω–æ –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã.**   

**–ú–∏–≥—Ä–∞—Ü–∏–∏:**  
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é Goose –º–∏–≥—Ä–∞—Ü–∏–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ **/migrations**.  
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤ Docker –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.  
- –ü—Ä–∏ –ª–æ–∫–∞–ª—å–Ω–æ–º –∑–∞–ø—É—Å–∫–µ —Å—Ç–æ–∏—Ç –ø—Ä–∏–º–µ–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—É **goose up**  

### –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ —Å–µ—Ä–≤–∏—Å–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å –ø–æ–º–æ—â—å—é –ø–∞–∫–µ—Ç–∞ [error_worker](https://github.com/Piccadilly98/incidents_service/tree/develop/internal/error_worker) 

**–°—É—Ç—å —Ä–∞–±–æ—Ç—ã:**
1. –û—à–∏–±–∫–∞ –ø–æ–¥–Ω–∏–º–∞–µ—Ç—Å—è –≤ —Ö–µ–Ω–¥–ª–µ—Ä –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, —Å–µ—Ä–≤–∏—Å–∞ –∏–ª–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–∞
2. –•–µ–Ω–¥–ª–µ—Ä –ø–µ—Ä–µ–¥–∞—ë—Ç –æ—à–∏–±–∫—É, `http.ResponseWriter` –∏ —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ `ErrorWorker` –≤ –æ–±—â—É—é —Ñ—É–Ω–∫—Ü–∏—é `processingError` –∏–∑ –ø–∞–∫–µ—Ç–∞ [`handlers`](https://github.com/Piccadilly98/incidents_service/tree/develop/internal/handlers)
3. `processingError` –≤—ã–∑—ã–≤–∞–µ—Ç `ErrorWorker.ProcessError(err)`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å-–∫–æ–¥ –∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
4. –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ ‚Äî —ç—Ç–æ –æ—Ç–º–µ–Ω—ë–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç (–∫–æ–¥ `-1`, –∫–ª–∏–µ–Ω—Ç –∑–∞–∫—Ä—ã–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ), –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ ResponseWriter, —Ö–µ–Ω–¥–ª–µ—Ä –ø—Ä–æ—Å—Ç–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
5. –í –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞—è—Ö –∫–ª–∏–µ–Ω—Ç—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è HTTP-–∫–æ–¥ + [ErrorDTO](https://github.com/Piccadilly98/incidents_service/blob/develop/internal/models/dto/error_dto.go) —Å –∫–æ–¥–æ–º –∏ —Ç–µ–∫—Å—Ç–æ–º –æ—à–∏–±–∫–∏

**–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:**  
–í –∫–æ–¥–µ error_worker —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ —Ç–∞–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
```go
type ErrorWorker struct {
	userPatterns       []userErrorInfo // –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ø–∞—Ä–µ —Å–æ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–º 
	dbPatterns         []dbErrorinfo    // –ø–∞—Ç—Ç–µ—Ä–Ω—ã –æ—à–∏–±–æ–∫ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –≤ –ø–∞—Ä–µ —Å–æ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–æ–º
	isLoggingUserError bool             // –Ω—É–∂–Ω–æ –ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
	userErrorLogger    *log.Logger      // –ª–æ–≥–≥–µ—Ä —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º [USER ERROR], –¥–ª—è –æ—à–∏–±–æ–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —é–∑–µ—Ä–æ–º
	dbErrorLogger      *log.Logger      // –ª–æ–≥–≥–µ—Ä —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º [SERVER DB ERROR], –¥–ª—è –æ—à–∏–±–æ–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
}
```
–£ error_worker –µ—Å—Ç—å 3 –æ—Å–Ω–æ–≤–Ω—ã—Ö –º–µ—Ç–æ–¥–∞:
- AddNewUserError - –º–µ—Ç–æ–¥ –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç 2 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫—É—é –æ—à–∏–±–∫—É: `pattern string, statusCode int`
- AddNewDbError - –º–µ—Ç–æ–¥ –∫–æ—Ç–æ—Ä—ã–π —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—É—é –æ—à–∏–±–∫—É —Å–≤—è–∑–∞–Ω–Ω—É—é —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã:
`isUser bool, pattern, resultMsg string, code int`.
   - isUser - –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –∫–æ—Ç–æ—Ä–∞—è –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Ç–∏–ø –æ—à–∏–±–∫–∏(user –∏–ª–∏ connection)
   - pattern - —Ç–µ–∫—Å—Ç –∏–∑ –æ—à–∏–±–∫–∏(–º–æ–∂–Ω–æ –æ—à–∏–±–∫—É —Ü–µ–ª–∏–∫–æ–º –∏–ª–∏ –æ—Ç—Ä—ã–≤–æ–∫ –∏–∑ –Ω–µ—ë)
   - resultMsg - —Å–æ–æ–±—â–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–µ –±—É–¥–µ—Ç –≤—ã–≤–µ–¥–µ–Ω–æ –∫–ª–∏–µ–Ω—Ç—É –≤ —Å–ª—É—á–∞–µ –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ –æ—à–∏–±–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞
   - code - —Å—Ç–∞—Ç—É—Å –∫–æ–¥, –∫–æ—Ç–æ—Ä—ã—ã–π –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω –µ—Å–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω –±—É–¥–µ—Ç –Ω–∞–π–¥–µ–Ω –≤–æ –≤—Ö–æ–¥—è—â–µ–π –æ—à–∏–±–∫–µ

- `ProcessError(err error)` - –º–µ—Ç–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –ø—Ä–æ–≤–µ—Ä–∫—É –≤—Ö–æ–¥—è—â–µ–π –æ—à–∏–±–∫–∏ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –≤ –Ω–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –∏–∑ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ –∏ –æ—Ç–¥–∞—á—É —Å—Ç–∞—Ç—É—Å –∫–æ–¥–∞:
    - –ú–µ—Ç–æ–¥ —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ—à–∏–±–∫—É –Ω–∞:
        - –æ—à–∏–±–∫—É `EOF` - –ø—É—Å—Ç–æ–µ —Ç–µ–ª–æ json
        - –æ—à–∏–±–∫—É sql.ErrNoRows(–æ—Ç—Å—É—Ç—Å–≤–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞, –∫–æ–≥–¥–∞ –æ–Ω –æ–∂–∏–¥–∞–ª—Å—è)
        - –æ—à–∏–±–∫—É –æ–∫–æ–Ω—á–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞(–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –∫–æ–¥: -1)
    - –ó–∞—Ç–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–µ—Å—å —Å–ª–∞–π—Å –æ—à–∏–±–æ–∫ —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å—Ç–∞—Ç—É—Å –∫–æ–¥ –∏ `resultMsg`, –ø–µ—Ä–µ–¥ —ç—Ç–∏–º –æ—à–∏–±–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[SERVER DB ERROR]`
    - –î–∞–ª–µ–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å–ª–∞–π—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—à–∏–±–æ–∫, –µ—Å–ª–∏ –ø–∞—Ç—Ç–µ—Ä–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π —Å—Ç–∞—Ç—É—Å –∫–æ–¥ –∏ `resultMsg`
    - –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–µ –±—ã–ª–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –Ω–∏ –≤ –æ–¥–Ω–æ–º –∏–∑ —Å–ª–∞–π—Å–æ–≤, —Ç–æ –º–µ—Ç–æ–¥ –ª–æ–≥–∏—Ä—É–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–æ–π –ª–æ–≥ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç statusCode `500 - Status Internal Server Error`: 
        ```bash
         [SERVER DB ERROR]  2026/01/17 22:10:43 CRITICAL - Unknown error: not err
         ```
    - –í —Å–ª—É—á–∞–µ –µ—Å–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –±—ã–ª–æ –≤–∫–ª—é—á–µ–Ω–æ –ª–æ–≥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –æ—à–∏–±–æ–∫, —Ç–æ –ø—Ä–∏ —Ç–∞–∫–∏—Ö –æ—à–∏–±–∫–∞—Ö –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥–µ—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ–¥–æ–±–Ω—ã–π –ª–æ–≥:
        ```bash
        [USER ERROR]  2026/01/17 22:14:35 User error [response code 404]: id not found
        ```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**   
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è: –≤—Å–µ –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å: –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –æ—à–∏–±–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ 1‚Äì2 —Å—Ç—Ä–æ–∫–∏
- –¢–æ–Ω–∫–∏–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã: –ª–æ–≥–∏–∫–∞ –æ—à–∏–±–æ–∫ –≤—ã–Ω–µ—Å–µ–Ω–∞, —Ö–µ–Ω–¥–ª–µ—Ä—ã –æ—Å—Ç–∞—é—Ç—Å—è –ø—Ä–æ—Å—Ç—ã–º–∏
- –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å: –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å–æ—Ç–µ–Ω –æ—à–∏–±–æ–∫ (SQL, Redis, –≤–∞–ª–∏–¥–∞—Ü–∏—è) —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –∏ –∫–æ–¥–∞–º–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: —Ä–∞–∑–¥–µ–ª–µ–Ω–æ –ø–æ —Ç–∏–ø–∞–º (user vs server), —Å –æ–ø—Ü–∏–µ–π –æ—Ç–∫–ª—é—á–µ–Ω–∏—è user-–ª–æ–≥–æ–≤ –¥–ª—è production

### Docker-compose
–ü—Ä–æ–µ–∫—Ç –º–æ–∂–µ—Ç —Å–æ–±–∏—Ä–∞—Ç—å—Å—è –≤ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É: 
```bash
    docker-compose up --build
```
**–í —Ñ–∞–π–ª–µ [docker-compose.yaml](https://github.com/Piccadilly98/incidents_service/blob/develop/docker-compose.yaml) –æ–ø–∏—Å–∞–Ω—ã 3 —Å–µ—Ä–≤–∏—Å–∞:**
- db - —Å–µ—Ä–≤–∏—Å –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–Ω–∏–º–∞–µ—Ç –æ–±—Ä–∞–∑ **PostgreSQL**, –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç—ã –∏ –¥–µ–ª–∞–µ—Ç `healthcheck`, —Ç–∞–∫ –∂–µ –µ—Å—Ç—å –ø—Ä–æ–±—Ä–æ—Å `volumes` –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ –±—ã –¥–∞–Ω–Ω—ã–µ –Ω–∞—à–∏—Ö —Ç–∞–±–ª–∏—Ü –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è–ª–∏—Å—å –ª–æ–∫–∞–ª—å–Ω–æ(`./pg_data`) –∏ –Ω–µ —Ç–µ—Ä—è–ª–∏—Å—å –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
- cache - —Å–µ—Ä–≤–∏—Å –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–Ω–∏–º–∞–µ—Ç –æ–±—Ä–∞–∑ redis –∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç—ã –∏ —Å–æ–≤–µ—Ä—à–∞–µ—Ç `healthcheck`
- backend - –æ–±—Ä–∞–∑ –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ Dockerfile –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `healthcheck` —Å–µ—Ä–≤–∏—Å–æ–≤: cache –∏ db


**–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞:** 
- –î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```bash
docker-compose down
```
- –î–ª—è –æ—á–∏—Å—Ç–∫–∏ `volumes` –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–ª–µ–¥—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```bash
docker compose down -v
```
### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–µ—Ä–≤–∏—Å –ø–æ–∫—Ä—ã—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–æ–±—ã—Ç–∏—è–º.  
–í—Å–µ –ª–æ–≥–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ stdout/stderr —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏ –∏ —É—Ä–æ–≤–Ω–µ–º.

#### –ë–∏–∑–Ω–µ—Å-—Å–æ–±—ã—Ç–∏—è (changeLogger)
```bash
[UPDATE INCIDENT INFO] 2026/01/18 00:03:52 INFO: Create new incident with id: 018c2f2f-...
[UPDATE INCIDENT INFO] 2026/01/18 00:05:11 INFO: incident 018c2f2f-... updated successfully
[UPDATE INCIDENT INFO] 2026/01/18 00:07:33 INFO: incident 018c2f2f-... deactivated
[UPDATE INCIDENT INFO] 2026/01/18 00:09:01 CRITICAL: incident 018c2f2f-... force deleted
[UPDATE INCIDENT INFO] 2026/01/18 00:10:22 INFO: Create new check with id: 018c2f30-...
```
#### –û—à–∏–±–∫–∏ –∫—ç—à–∞ (cacheLogger ‚Üí stderr)
```bash
[CACHE ERROR] 2026/01/18 00:15:44 ERROR IN SET WITH ID: 018c2f2f-...: redis: nil
[CACHE ERROR] 2026/01/18 00:16:01 ERROR IN GET WITH ID: 018c2f2f-...: redis: nil
```

#### –û—à–∏–±–∫–∏ error worker
- –°–µ—Ä–≤–µ—Ä–Ω—ã–µ/–ë–î –æ—à–∏–±–∫–∏(–ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤—Å–µ–≥–¥–∞):
    ```bash
    [SERVER DB ERROR] 2026/01/18 00:20:15 CRITICAL: error in ping dataBase: dial tcp [::1]:5432: connect: connection refused
    [SERVER DB ERROR] 2026/01/18 00:21:33 Unknown error: context deadline exceeded
    ```
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, —á–µ—Ä–µ–∑ `LOGGING_USER_ERROR=true`):
    ```bash
    [USER ERROR] 2026/01/18 00:25:47 User error [response code 400]: invalid latitude value
    [USER ERROR] 2026/01/18 00:26:12 User error [response code 404]: incident not found
    ```

## API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –ø–æ –±–∞–∑–æ–≤–æ–º—É –ø—É—Ç–∏:  
**http://localhost:8080/api/v1**

### –ö—Ä–∞—Ç–∫–∏–µ —Ç–∞–±–ª–∏—Ü—ã –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º

#### –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—Å–∫–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (—Ç—Ä–µ–±—É—é—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `X-API-Key`)
|–ú–µ—Ç–æ–¥|–ü—É—Ç—å|–û–ø–∏—Å–∞–Ω–∏–µ|–§–æ—Ä–º–∞—Ç/–ø–∞—Ä–∞–º–µ—Ç—Ä—ã|
|-|---|---|---------|
|POST| `/incidents`| –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞| JSON -> [DTO](https://github.com/Piccadilly98/incidents_service/blob/develop/internal/models/dto/registration_incident_request.go)|
|GET   | `/incidents`| –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ —Å **–ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π** –∏ **—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π** | Query-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã:<br>‚Ä¢ **id** ‚Äî UUID. ID –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ (–µ—Å–ª–∏ –ø—É—Å—Ç–æ ‚Äî –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)<br>‚Ä¢ **page** ‚Äî –ß–∏—Å–ª–æ. –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–µ—Å–ª–∏ –ø—É—Å—Ç–æ ‚Äî –≤—Å–µ –∑–∞–ø–∏—Å–∏)<br>‚Ä¢ **type** ‚Äî –°—Ç—Ä–æ–∫–∞. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É<br>‚Ä¢ **name** ‚Äî –°—Ç—Ä–æ–∫–∞. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∏–º–µ–Ω–∏<br>‚Ä¢ **radius** ‚Äî –ß–∏—Å–ª–æ. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞–¥–∏—É—Å—É<br>‚Ä¢ **status** ‚Äî –°—Ç—Ä–æ–∫–∞. –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç–∞—Ç—É—Å—É (`active`, `resolved`, `archived`)|
|GET    | `/incidents/{id}` | –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞|URL-–ø–∞—Ä–∞–º–µ—Ç—Ä: **id** ‚Äî UUID –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)|
|PUT    | `/incidents/{id}` | –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —á–∞—Å—Ç–∏—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞<br> [–ü–æ–¥—Ä–æ–±–Ω–µ–µ](#put-incidentsid)|URL-–ø–∞—Ä–∞–º–µ—Ç—Ä: **id** ‚Äî UUID –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)<br> JSON->[DTO](https://github.com/Piccadilly98/incidents_service/blob/develop/internal/models/dto/update_request.go)|
|DELETE | `/incidents/{id}` | –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞<br>‚Ä¢ **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ä–µ–∂–∏–º**: —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ `archived`<br>‚Ä¢ **–ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ**: —É–¥–∞–ª–µ–Ω–∏–µ –∏–∑ –ë–î<br> [–ü–æ–¥—Ä–æ–±–Ω–µ–µ](#delete-incidentsid)|URL-–ø–∞—Ä–∞–º–µ—Ç—Ä: **id** ‚Äî UUID –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π)|
|GET    | `/incidents/stats`| –≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–æ–≤–µ—Ä–æ–∫ –ø–æ –∫–∞–∂–¥–æ–º—É –∏–Ω—Ü–∏–¥–µ–Ω—Ç—É.<br>–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:<br> 1.–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤<br> 2. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π<br> 3. –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞<br> 4. –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞<br> 5. –°–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø–æ –∫–∞–∂–¥–æ–º—É –∏–Ω—Ü–∏–¥–µ–Ω—Ç—É|–ù–µ—Ç|

#### –ü—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–Ω–µ —Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
|–ú–µ—Ç–æ–¥|–ü—É—Ç—å|–û–ø–∏—Å–∞–Ω–∏–µ|–§–æ—Ä–º–∞—Ç/–ø–∞—Ä–∞–º–µ—Ç—Ä—ã|
|-|---|---|---------|
|GET    |`/system/health`|–≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞:<br> –ü–∏–Ω–≥ **Redis**, **PostgreSQL** –∏ –¥—Ä—É–≥–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç [–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –°heck](https://github.com/Piccadilly98/incidents_service/blob/develop/internal/health/check_interface.go)|–ù–µ—Ç|
|POST   |`/location/check`|–≠–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç—á–µ—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞ –≤ —Å–ª—É—á–∞–µ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ –ø—Ä–æ–≤–µ—Ä–∫–µ|JSON->[DTO](https://github.com/Piccadilly98/incidents_service/blob/develop/internal/models/dto/location_check_request.go)|
|POST   | `/tests`      |–≠–Ω–¥–ø–æ–∏–Ω—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ–±—Ö—É–æ–≤: –ø—Ä–æ—Å—Ç–æ–π –∞–Ω–º–∞—Ä—à–∞–ª–∏–Ω–≥ + –ø–µ—á–∞—Ç—å –≤ –∫–æ–Ω—Å–æ–ª—å —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞[–ü–æ–¥—Ä–æ–±–Ω–µ–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-–≤–µ–±—Ö—É–∫–æ–≤)| JSON->[ResultWebhookRequestDTO](https://github.com/Piccadilly98/incidents_service/blob/develop/internal/models/dto/webhook_task.go)|

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

#### DELETE /incidents/{id}
–†–µ–∂–∏–º–∏ —Ä–∞–±–æ—Ç—ã –¥–∞–Ω–Ω–æ–≥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –∑–∞–≥–æ–ª–æ–≤–∫–∞ `Deactivate-Mode`:
- –ü—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏–∏ `force` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏–ª–∏ –¥—Ä—É–≥–æ–º –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç `–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è` –∑–∞ —Å—á—ë—Ç —Å–º–µ–Ω—ã —Å—Ç–∞—Ç—É—Å–∞ –Ω–∞ `archived`  

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —É–∂–µ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç(—Å–æ —Å—Ç–∞—Ç—É—Å–æ–º `archived`) –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞, —Ç–∞–∫ –∫–∞–∫ –¥–∞–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å –Ω–µ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª–∞.

#### PUT /incidents/{id}
–î–∞–Ω–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞, –∞ –∏–º–µ–Ω–Ω–æ —Ç–∞–∫–∏–µ –ø–æ–ª—è –∫–∞–∫:
- name
- type
- description
- radius
- status  

**–≠—Ç–∏ –ø–æ–ª—è –±—ã–ª–∏ –≤—ã–±—Ä–∞–Ω—ã –ø–æ—Ç–æ–º—É —á—Ç–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä `latitude` –∏–ª–∏ `longitude` –ø–æ —Å—É—Ç–∏ —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç –∏ –ª–æ–º–∞–µ—Ç—Å—è –ª–æ–≥–∏–∫–∞ location/check.**  
–ü–æ—ç—Ç–æ–º—É –≤–º–µ—Å—Ç–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–ª–µ–π –ª—É—á—à–µ –ø—Ä–∏–±–µ–≥–Ω—É—Ç—å –∫ —Å–æ–∑–¥–∞–Ω–∏—é –Ω–æ–≤–æ–≥–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞.  

**–≠–Ω–¥–ø–æ–∏–Ω—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 
- –ù–∞–ª–∏—á–∏–µ –∫–∞–∫–∏—Ö –ª–∏–±–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
    - –ï—Å–ª–∏ DTO –ø—É—Å—Ç–æ–µ, —Ç–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ—Ç—É
    - –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –≤ DTO –ø–æ–≤—Ç–æ—Ä—è—é—Ç –¥–∞–Ω–Ω—ã–µ –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —Ç–æ —Å–º—ã—Å–ª–∞ –≤ –∑–∞–ø—Ä–æ—Å–µ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ—Ç—É, –ø–æ—ç—Ç–æ–º—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö(–∑–∞–≤–∏—Å—è—â—É—é –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–ª–µ–π –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ –±—ã –∏–∑–±–µ–∂–∞—Ç—å –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–¥, –∫–æ—Ç–æ—Ä—ã–µ –≤–µ—Ä–Ω—É—Ç –æ—à–∏–±–∫—É)
- –°—Ç–∞—Ç—É—Å –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞:
    - –ï—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ `archived` - –∏–∑–º–µ–Ω—è—Ç—å –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –ø–æ–ª–µ `description` - —Ç–∞–∫ –∫–∞–∫ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –≤ –∞—Ä—Ö–∏–≤–µ –º–µ–Ω—è—Ç—å –±—ã–ª–æ –±—ã –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
–ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥–µ–Ω—ã —Ä–µ–∞–ª—å–Ω—ã–µ —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ Postman (–≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –Ω–∞ `http://localhost:8080/api/v1`).

### –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞
![–£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è](screenshots/success_registration.png)

### –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: –Ω–µ–≤–µ—Ä–Ω—ã–π API-–∫–ª—é—á
![–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ‚Äî invalid API-key](screenshots/err_registration_api_key.png)

### –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: –Ω–µ–≤–∞–ª–∏–¥–Ω–∞—è —à–∏—Ä–æ—Ç–∞/–¥–æ–ª–≥–æ—Ç–∞
![–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ ‚Äî invalid latitude/longitude](screenshots/err_registration_invalid_latitude_long.png)

### –£—Å–ø–µ—à–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –ø–æ ID
![–ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞ –ø–æ ID ‚Äî 200 OK](screenshots/get_id_succes.png)

### –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è: –∏–Ω—Ü–∏–¥–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω
![Get incident ‚Äî 404 Not Found](screenshots/get_not_found.png)

### –û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è: –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π UUID
![Get incident ‚Äî 400 invalid UUID](screenshots/get_not_uuid.png)

### Health-check: –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
![Health-check ‚Äî 200 OK](screenshots/health_check_ok.png)

### Health-check: –æ—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
![Health-check ‚Äî 503 Service Unavailable](screenshots/health_check_err_ping.png)

### –ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
![–°–ø–∏—Å–æ–∫ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π](screenshots/get_pagination_page.png)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç: –±–µ–∑ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –∑–æ–Ω
![Location check ‚Äî is_danger: false](screenshots/location_check_not_detected.png)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç: –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∑–æ–Ω—ã
![Location check ‚Äî is_danger: true](screenshots/location_check_detected.png)

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç **~60-65%** (unit + integration —Ç–µ—Å—Ç—ã).  
–ü–æ–¥—Ä–æ–±–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ –ø–æ –ø–∞–∫–µ—Ç–∞–º:

- `config` ‚Äî **75.7%**
- `error_worker` ‚Äî **100%**
- `middleware` ‚Äî **100%**
- `dto` ‚Äî **76.4%**
- `repository/db` ‚Äî **45%** (–ø–æ–∫—Ä—ã—Ç—ã –º–µ—Ç–æ–¥—ã –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
- `service` ‚Äî **70.3%** (–æ—Å–Ω–æ–≤–Ω–∞—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)

**–¢–µ—Å—Ç—ã –≤ –ø–∞–∫–µ—Ç–µ `service`:**
- **Unit-—Ç–µ—Å—Ç—ã** ‚Äî [service_test.go](https://github.com/Piccadilly98/incidents_service/blob/develop/internal/service/service_test.go)  
  table-driven –ø–æ–¥—Ö–æ–¥, testify/assert, –ø–æ–∫—Ä—ã—Ç—ã –≤–∞–ª–∏–¥–∞—Ü–∏—è, —Å—Ç–∞—Ç—É—Å—ã, resolved_time, —Ä–∞–¥–∏—É—Å –∏ —Ç.–¥.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã** ‚Äî [integration_service_test.go](https://github.com/Piccadilly98/incidents_service/blob/develop/internal/service/integration_service_test.go)  
  –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –º–æ–∫–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏–∑ –ø–∞–∫–µ—Ç–∞ [repository](https://github.com/Piccadilly98/incidents_service/tree/develop/internal/repository)

**–ù–µ –ø–æ–∫—Ä—ã—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏ (–Ω–æ –º–µ—Ç–æ–¥—ã –≤ –º–æ–∫–∞—Ö —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã):**
- `GetPagination`
- `GetChecksStatistics`

**–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- –ï—Å–ª–∏ –µ—Å—Ç—å make, –º–æ–∂–Ω–æ:
```bash
make tests-all # –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º + –ª–æ–≥–∞–º–∏
make tests-cover # –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
make tests-v # –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ª–æ–≥–∞–º–∏
```
- –ï—Å–ª–∏ –Ω–µ—Ç make:
```bash
go test -v -cover ./... #–¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å –ª–æ–≥–∞–º–∏ + –ø–æ–∫—Ä—ã—Ç–∏–µ–º
go test -cover ./... #–¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ —Ç–æ–ª—å–∫–æ —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
go test -v ./... #–¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–ª—å–∫–æ —Å –ª–æ–≥–∞–º–∏
```
- –î–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –æ—Ç–∫—Ä—ã—Ç–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞:
```bash
go test -coverprofile=coverage.out ./... && go tool cover -html=coverage.out
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–±—Ö—É–∫–æ–≤
–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ–±—Ö–∫—É–∫–æ–≤ –≤ —Å–µ—Ä–≤–∏—Å–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `/test`, –∫–æ—Ç–æ—Ä—ã–π —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ—Å—Ç–æ–π –∑–∞–≥–ª—É—à–∫–æ–π, –ø–µ—á–∞—Ç–∞—é—â–∏–π —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –æ—Ç–¥–∞—é—â–µ–π —Å—Ç–∞—Ç—É—Å –∫–æ–¥ `200`. URL –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–µ–±—Ö—É–∫–∞ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –≤ —Ñ–∞–π–ª–µ `WEBHOOK_URL`, –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–π `http://localhost:9090/test`, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—Ä–æ—Å–∞.  
**–ö–∞–∫ —ç—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–Ω:**  
–í production –≤–º–µ—Å—Ç–æ ngrok –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π HTTPS-—ç–Ω–¥–ø–æ–∏–Ω—Ç —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –∑–∞–ø—Ä–æ—Å –ø—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é ngrok
–¢–∞–∫ –∂–µ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å [ngrok](https://ngrok.com/).  
**–ú–æ–π –ø—Ä–∏–º–µ—Ä:**
![–ü—Ä–∏–º–µ—Ä ngrok](screenshots/ngrok_result.png)
–ù–∞ –¥–∞–Ω–Ω–æ–º —Å–∫—Ä–∏–Ω–µ:
- –ë—ã–ª –∑–∞–ø—É—â–µ–Ω —Å–µ—Ä–≤–µ—Ä ngrok –Ω–∞ –ø–æ—Ä—Ç—É 8080(—Ç–∞–º –∂–µ –≥–¥–µ –∏ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å) —Å –ø–æ–º–æ—â—å—é:
```bash
ngrok http 8080
```
- –í –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π env `WEBHOOK_URL` –±—ã–ª —É–∫–∞–∑–∞–Ω url, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ ngrok –∏ –∫ –Ω–µ–º—É –¥–æ–±–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É `/test`(/api/v1/test)
- –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ –∫ —ç–Ω–¥–ø–æ–∏–Ω—Ç—É: `/location/check` –∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –æ–ø–∞—Å–Ω–æ—Å—Ç–µ–π –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –≤–µ–±—Ö—É–∫ –Ω–∞ –Ω–∞—à—É –ø—É—Å—Ç—ã—à–∫—É
- –í –ª–µ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –º–æ–∂–Ω–æ –Ω–∞–±–ª—é–¥–∞—Ç—å –º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ `POST` –∏ —Å—Ç–∞—Ç—É—Å –∫–æ–¥ `200`
- –í –ø—Ä–∞–≤–æ–º –º–æ–∂–Ω–æ –Ω–∞–±–ª—é–¥–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—á–∞—Ç–∏ `/test` —Ö–µ–Ω–¥–ª–µ—Ä–∞

**–ó–∞–ø—É—Å–∫ ngrok:**
- –ù–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —É—Ç–∏–ª–∏—Ç—É ngrok
- –ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è –∏ —Å–∫–∞—á–∞—Ç—å api-key(–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –±—É–¥—É—Ç –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏)
- –ó–∞–ø—É—Å—Ç–∏—Ç—å ngrok —Å –ø–æ–º–æ—â—å—é:
```bash
ngrok http 8080
```
- –í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —É–≤–∏–¥–µ—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ngrok –∏ –Ω–∞–π—Ç–∏ —Ç–∞–º —Å—Ç—Ä–æ–∫—É: **Forwarding  ...**
- –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É –∫–æ—Ç–æ—Ä–∞—è –∏–¥—ë—Ç –ø–æ—Å–ª–µ `Forwarding` –∏ –≤—Å—Ç–∞–≤–∏—Ç—å –≤ **.env** —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```bash
WEBHOOK_URL= https:..../test #–¥–æ–±–∞–≤–∏—Ç—å –ø—É—Ç—å –¥–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞ /test
```
- –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä –∏ –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

**–°–ø–∞—Å–∏–±–æ –∑–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä!**

- **GitHub:** [@Piccadilly98](https://github.com/Piccadilly98)
- **–†–µ–∑—é–º–µ –Ω–∞ HH:** [hh.ru](https://samara.hh.ru/resume/875f5df3ff0fbfea5f0039ed1f39506e574431)
- **Telegram:** [@sanchello991](https://t.me/sanchello991)
---